module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},21163,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(5304),e=a.i(37398),f=a.i(50944),g=a.i(38246);function h(){let{user:a,token:h,loading:i,logout:j}=(0,d.useAuth)(),k=(0,f.useRouter)(),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(!1);(0,c.useEffect)(()=>{i||a||k.replace("/login")},[a,i,k]);let t=(0,c.useCallback)(async()=>{if(h)try{let a=await (0,e.apiFetch)("/api/workspaces",{},h);m(a.workspaces||[])}catch{}finally{o(!1)}},[h]);async function u(a){if(a.preventDefault(),p.trim()&&!r){s(!0);try{let a=await (0,e.apiFetch)("/api/workspaces",{method:"POST",body:JSON.stringify({name:p.trim()})},h);q(""),k.push(`/dashboard/${a.workspace.id}`)}catch{}finally{s(!1)}}}return((0,c.useEffect)(()=>{t()},[t]),i||!a)?null:(0,b.jsxs)("div",{className:"mx-auto min-h-screen max-w-2xl px-6 py-12",children:[(0,b.jsxs)("header",{className:"flex items-center justify-between",children:[(0,b.jsx)("h1",{className:"text-lg font-semibold",children:"Synthesis"}),(0,b.jsx)("button",{onClick:j,className:"text-xs text-[var(--muted)] transition hover:text-[var(--fg)]",children:"Log out"})]}),(0,b.jsxs)("form",{onSubmit:u,className:"mt-10 flex gap-2",children:[(0,b.jsx)("input",{type:"text",value:p,onChange:a=>q(a.target.value),placeholder:"New workspace…",className:"flex-1 border-b border-[var(--border)] bg-transparent py-2 text-sm outline-none placeholder:text-[var(--muted)] focus:border-[var(--fg)]"}),(0,b.jsx)("button",{type:"submit",disabled:r||!p.trim(),className:"rounded-lg bg-[var(--fg)] px-4 py-2 text-xs font-medium text-white transition hover:opacity-80 disabled:opacity-30",children:"Create"})]}),n?(0,b.jsx)("p",{className:"mt-12 text-center text-sm text-[var(--muted)]",children:"Loading…"}):0===l.length?(0,b.jsx)("p",{className:"mt-16 text-center text-sm text-[var(--muted)]",children:"No workspaces yet. Create one above."}):(0,b.jsx)("div",{className:"mt-8 divide-y divide-[var(--border)]",children:l.map(a=>(0,b.jsxs)(g.default,{href:`/dashboard/${a.id}`,className:"group flex items-center justify-between py-3 transition",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium group-hover:text-[var(--fg)]",children:a.name}),a.description&&(0,b.jsx)("p",{className:"mt-0.5 text-xs text-[var(--muted)] line-clamp-1",children:a.description})]}),(0,b.jsxs)("span",{className:"text-xs text-[var(--muted)]",children:[a._count?.items||0," docs"]})]},a.id))})]})}a.s(["default",()=>h])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ebfaa8c6._.js.map