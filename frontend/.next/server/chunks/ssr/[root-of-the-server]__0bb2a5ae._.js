module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},5304,37398,a=>{"use strict";var b=a.i(87924),c=a.i(72131);async function d(a,b={},c){let e=`${a}`,f={"Content-Type":"application/json",...b.headers||{}};c&&(f.Authorization=`Bearer ${c}`);let g=await fetch(e,{...b,headers:f,credentials:"include"}),h=(g.headers.get("content-type")||"").includes("application/json")?await g.json():await g.text();if(!g.ok)throw Error(h?.error||h||"Request failed");return h}a.s(["apiFetch",()=>d],37398);let e=(0,c.createContext)(null);function f({children:a}){let[f,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(!0);(0,c.useEffect)(()=>{let a=localStorage.getItem("synthesis_token");a?i(a):k(!1)},[]),(0,c.useEffect)(()=>{if(!h){g(null),k(!1);return}let a=!1;return async function(){try{let b=await d("/api/auth/me",{},h);a||g(b.user)}catch{a||(g(null),i(null),localStorage.removeItem("synthesis_token"))}finally{a||k(!1)}}(),()=>{a=!0}},[h]);let l=(0,c.useCallback)(async(a,b)=>{let c=await d("/api/auth/login",{method:"POST",body:JSON.stringify({email:a,password:b})});return localStorage.setItem("synthesis_token",c.token),i(c.token),g(c.user),c.user},[]),m=(0,c.useCallback)(async(a,b,c)=>{let e=await d("/api/auth/register",{method:"POST",body:JSON.stringify({email:a,password:b,name:c})});return localStorage.setItem("synthesis_token",e.token),i(e.token),g(e.user),e.user},[]),n=(0,c.useCallback)(async()=>{try{await d("/api/auth/logout",{method:"POST"},h)}catch{}localStorage.removeItem("synthesis_token"),i(null),g(null)},[h]);return(0,b.jsx)(e.Provider,{value:{user:f,token:h,loading:j,login:l,register:m,logout:n},children:a})}function g(){let a=(0,c.useContext)(e);if(!a)throw Error("useAuth must be used within AuthProvider");return a}a.s(["AuthProvider",()=>f,"useAuth",()=>g],5304)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__0bb2a5ae._.js.map